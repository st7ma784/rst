# Simple standalone makefile for fitacf_v3.0_optimized2
# Testing compilation without RST build system dependencies

CC = gcc
CFLAGS = -Wall -Wextra -O3 -std=c99
INCLUDES = -I../include

# Source files  
SRCS = fit_structures_optimized.c preprocessing_optimized.c fitting_optimized.c fitacf_toplevel_optimized.c
OBJS = $(SRCS:.c=.o)
TARGET = libfitacf_v3.0_optimized2.a

# Default target
all: $(TARGET)

# Build static library
$(TARGET): $(OBJS)
	ar rcs $@ $^
	@echo "Library $@ created successfully"

# Compile source files
%.o: %.c
	$(CC) $(CFLAGS) $(INCLUDES) -c $< -o $@

# Test compilation only
compile-test: $(OBJS)
	@echo "Compilation test passed - all source files compiled successfully"

# Clean
clean:
	rm -f $(OBJS) $(TARGET)

# Show configuration
info:
	@echo "Compiler: $(CC)"
	@echo "Flags: $(CFLAGS)"
	@echo "Includes: $(INCLUDES)"
	@echo "Sources: $(SRCS)"
	@echo "Objects: $(OBJS)"
	@echo "Target: $(TARGET)"

.PHONY: all clean compile-test info
